{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bhashkar Mishra\\\\OneDrive\\\\Desktop\\\\MoEngage Assignment\\\\frontend\\\\src\\\\components\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst httpCodes = [100, 101, 102, 103, 200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 421, 422, 423, 424, 425, 426, 428, 429, 431, 451, 500, 501, 502, 503, 504, 505, 506, 507, 508, 510, 511];\nconst httpCodeImages = httpCodes.reduce((acc, code) => {\n  acc[code] = `https://http.dog/${code}.jpg`;\n  return acc;\n}, {});\nconst Search = () => {\n  _s();\n  const [filter, setFilter] = useState('');\n  const [results, setResults] = useState([]);\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (filter) {\n      const regex = new RegExp(`^${filter.replace(/x/g, '\\\\d')}`);\n      const filteredCodes = httpCodes.filter(code => regex.test(code.toString()));\n      const filteredImages = filteredCodes.map(code => ({\n        code,\n        image: httpCodeImages[code]\n      }));\n      setResults(filteredImages);\n    } else {\n      setResults([]);\n    }\n  }, [filter]);\n  const handleSave = async () => {\n    if (!name.trim()) {\n      setError('List name is required.');\n      return;\n    }\n    if (results.length === 0) {\n      setError('No HTTP codes to save. Please filter and try again.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const responseCodes = results.map(result => result.code);\n      const imageLinks = results.map(result => result.image);\n      const creationDate = new Date().toISOString();\n      await axios.post('http://localhost:8000/api/lists', {\n        name,\n        creationDate,\n        responseCodes,\n        imageLinks\n      });\n      alert('List saved successfully!');\n      window.location.href = '/lists';\n    } catch (err) {\n      console.error('Error saving list:', err);\n      setError('An error occurred while saving. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto bg-white p-8 rounded shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Search HTTP Codes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: filter,\n        onChange: e => setFilter(e.target.value),\n        placeholder: \"Filter by code\",\n        className: \"w-full p-2 mb-4 border border-gray-300 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4 mb-4\",\n        children: results.map(result => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: result.image,\n          alt: result.code,\n          className: \"w-full h-auto rounded\"\n        }, result.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"List Name\",\n        className: \"w-full p-2 mb-4 border border-gray-300 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        className: \"w-full px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 focus:ring-4 focus:ring-blue-300\",\n        children: \"Save List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Search, \"93EKZWQ9epomsiqe1EEYjqg7Us0=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","httpCodes","httpCodeImages","reduce","acc","code","Search","_s","filter","setFilter","results","setResults","name","setName","error","setError","loading","setLoading","regex","RegExp","replace","filteredCodes","test","toString","filteredImages","map","image","handleSave","trim","length","responseCodes","result","imageLinks","creationDate","Date","toISOString","post","alert","window","location","href","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","src","alt","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Bhashkar Mishra/OneDrive/Desktop/MoEngage Assignment/frontend/src/components/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst httpCodes = [\r\n  100, 101, 102, 103, 200, 201, 202, 203, 204, 205, 206, 207, 208, 226,\r\n  300, 301, 302, 303, 304, 305, 306, 307, 308, 400, 401, 402, 403, 404,\r\n  405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418,\r\n  421, 422, 423, 424, 425, 426, 428, 429, 431, 451, 500, 501, 502, 503,\r\n  504, 505, 506, 507, 508, 510, 511\r\n];\r\n\r\nconst httpCodeImages = httpCodes.reduce((acc, code) => {\r\n  acc[code] = `https://http.dog/${code}.jpg`;\r\n  return acc;\r\n}, {});\r\n\r\nconst Search = () => {\r\n  const [filter, setFilter] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (filter) {\r\n      const regex = new RegExp(`^${filter.replace(/x/g, '\\\\d')}`);\r\n      const filteredCodes = httpCodes.filter(code => regex.test(code.toString()));\r\n      const filteredImages = filteredCodes.map(code => ({ code, image: httpCodeImages[code] }));\r\n      setResults(filteredImages);\r\n    } else {\r\n      setResults([]);\r\n    }\r\n  }, [filter]);\r\n\r\n  const handleSave = async () => {\r\n    if (!name.trim()) {\r\n      setError('List name is required.');\r\n      return;\r\n    }\r\n    if (results.length === 0) {\r\n      setError('No HTTP codes to save. Please filter and try again.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const responseCodes = results.map(result => result.code);\r\n      const imageLinks = results.map(result => result.image);\r\n      const creationDate = new Date().toISOString();\r\n\r\n      await axios.post('http://localhost:8000/api/lists', { name, creationDate, responseCodes, imageLinks });\r\n      alert('List saved successfully!');\r\n      window.location.href = '/lists';\r\n    } catch (err) {\r\n      console.error('Error saving list:', err);\r\n      setError('An error occurred while saving. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <div className=\"max-w-2xl mx-auto bg-white p-8 rounded shadow-lg\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Search HTTP Codes</h1>\r\n        <input\r\n          type=\"text\"\r\n          value={filter}\r\n          onChange={(e) => setFilter(e.target.value)}\r\n          placeholder=\"Filter by code\"\r\n          className=\"w-full p-2 mb-4 border border-gray-300 rounded\"\r\n        />\r\n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n          {results.map((result) => (\r\n            <img key={result.code} src={result.image} alt={result.code} className=\"w-full h-auto rounded\" />\r\n          ))}\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          placeholder=\"List Name\"\r\n          className=\"w-full p-2 mb-4 border border-gray-300 rounded\"\r\n        />\r\n        <button\r\n          onClick={handleSave}\r\n          className=\"w-full px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 focus:ring-4 focus:ring-blue-300\"\r\n        >\r\n          Save List\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}